---
import { CATEGORIES } from '../consts';
import { getIconClass } from '../utils/iconMapping';

interface Props {
  activeCategory?: string;
}

const { activeCategory = 'all' } = Astro.props;
import Icon from './Icon.astro';
---

<div>
  <h3 class="text-gray-900 dark:text-white font-bold text-sm uppercase tracking-wider mb-4">Categories</h3>
  <div class="flex flex-col gap-2">
    {CATEGORIES.map(category => (
      <a 
        class={`flex items-center justify-between group p-2 rounded-lg transition-all ${
          activeCategory === category.slug
            ? 'bg-primary/10 text-primary font-medium'
            : 'text-gray-600 dark:text-text-secondary-dark hover:bg-white dark:hover:bg-surface-dark hover:shadow-sm hover:text-gray-900 dark:hover:text-white'
        }`}
        href={category.slug === 'all' ? '/blog' : `/blog/category/${category.slug}`}
      >
        <span class="flex items-center gap-2">
          <span class={getIconClass(category.icon, 'text-[20px]')}></span>
          {category.name}
        </span>
        <span class={`text-xs py-0.5 px-2 rounded-full ${
          activeCategory === category.slug
            ? 'bg-primary text-white shadow-sm'
            : 'bg-gray-100 dark:bg-border-dark text-gray-500 dark:text-gray-400'
        }`}>
          {category.count}
        </span>
      </a>
    ))}
  </div>
</div>