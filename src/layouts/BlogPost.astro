---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseLayout from './BaseLayout.astro';
import { formatDate } from '../utils/date';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description}>
	<main class="min-h-screen bg-white dark:bg-gray-900">
		<article class="max-w-4xl mx-auto px-4 py-8">
			{heroImage && (
				<div class="mb-8">
					<Image 
						width={1020} 
						height={510} 
						src={heroImage} 
						alt={title}
						class="w-full h-auto rounded-lg shadow-lg"
					/>
				</div>
			)}
			
			<div class="prose prose-lg dark:prose-invert max-w-none">
				<header class="mb-8 text-center">
					<h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">
						{title}
					</h1>
					<div class="text-gray-600 dark:text-gray-400 text-sm">
						<time datetime={pubDate.toISOString()}>
							{formatDate(pubDate)}
						</time>
						{updatedDate && (
							<div class="mt-2 italic">
								Last updated on <time datetime={updatedDate.toISOString()}>
									{formatDate(updatedDate)}
								</time>
							</div>
						)}
					</div>
					<hr class="mt-6 border-gray-200 dark:border-gray-700" />
				</header>
				
				<div class="text-gray-800 dark:text-gray-200">
					<slot />
				</div>
			</div>
		</article>
	</main>
</BaseLayout>
